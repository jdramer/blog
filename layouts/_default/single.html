{{ define "nav" }}
  {{ partial "nav.html" . }}
{{ end }}

{{ define "header" }}
  {{ partial "header.html" . }}
{{ end }}

{{ define "main" }}
<section class="main">
  <div class="container is-fluid">
    <div class="columns">

      <!-- table of contents -->
      <aside class="column is-one-fifth">
        {{ partial "toc.html" . }}
      </aside>

      <div class="column">
        <article role="main" class="content">

          <!-- table of contents rendered only on touch -->
          <!-- {{ if (ne .Params.toc "false") }} -->
          <!-- <div class="is-hidden-desktop"> -->
          <!--   <nav role="navigation"> -->
          <!--     <div class="toc-embedded"></div> -->
          <!--   </nav> -->
          <!-- </div> -->
          <!-- {{ end }} -->

          {{ .Content }}

          {{ if isset .Params "references" }}
            <hr />
            <div class="is-size-3">References</div>
            <div class="references">
              <ul>
              {{ range .Params.references }}
                <li>{{ . | markdownify }}</li>
              {{ end }}
              </ul>
            </div>
          {{ end }}
        </article>

      </div>

      <!-- sitemap -->
      <aside class="column is-one-fifth">
        {{ partial "sitemap.html" . }}
      </aside>

    </div>
  </div>
</section>
{{ end }}

{{ define "footer" }}
  {{ partial "footer.html" . }}
{{ end }}
