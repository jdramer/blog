{{ $script := .Site.Data.webpackAssets.voronoi }}
{{ $type := (printf "%T" $script.js) }}
{{ if eq $type "[]interface {}" }}
{{ with (index $script.js 0) }}
<script src="{{ relURL . }}"></script>
{{ end }}
{{ end }}

{{ if eq $type "string" }}
{{ with $script.js }}
<script src="{{ relURL . }}"></script>
{{ end }}
{{ end }}

<script>
(function () {
  var target = {{ if .Scratch.Get "isIndex" }} 'body' {{ else }} null {{ end}}
  if (target == null) return;
  var targetEl = document.querySelector(target)
  targetEl && window.voronoi.generate({
    target: targetEl,
    rainbow: target === 'body',
    n: 300
  })
})()
</script>
